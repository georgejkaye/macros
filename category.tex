% category stuff

\newcommand{\pair}[2]{\langle #1,#2 \rangle}

% categories

\newcommand{\ob}[1]{\text{ob}(#1)}
\newcommand{\mor}[3]{#1(#2, #3)}
\newcommand{\morph}[3]{{{#1} \colon {#2 \to #3}}}
\newcommand{\seq}{{\ \fatsemi\ }}
\NewDocumentCommand\id{o}{%
    \mathsf{id}\IfValueT{#1}{_{#1}}%
}
\newcommand{\op}[1]{#1^{\mathsf{op}}}
\newcommand{\inverse}[1]{#1^{-1}}

% monoidal categories

\newcommand{\tensor}{\otimes}
\newcommand{\bigtensor}{\bigotimes}
\newcommand{\associator}[3]{\alpha_{#1, #2, #3}}
\newcommand{\leftunitor}[1]{\lambda_{#1}}
\newcommand{\rightunitor}[1]{\rho_{#1}}

% symmetric monoidal categories

\newcommand{\braid}[2]{{\gamma_{#1,#2}}}
\newcommand{\swap}[2]{{\sigma_{#1,#2}}}

% symmetric traced monoidal categories

\DeclareMathOperator{\tr}{Tr}
\NewDocumentCommand\trace{moom}{%
    {\tr^{#1}\IfValueT{#2}{_{#2, #3}}\left(#4\right)}
}

% compact closed category

\newcommand{\dual}[1]{#1^*}
\NewDocumentCommand\ccunit{o}{
    \nu\IfValueT{#1}{_{#1}}
}
\NewDocumentCommand\cccounit{o}{
    \epsilon\IfValueT{#1}{_{#1}}
}

% strictifiers

\newcommand{\bundle}[2]{\beta_{#1,#2}}
\newcommand{\bundleexpand}[2]{\beta^\triangleleft_{#1,#2}}
\newcommand{\bundlecontract}[2]{\beta^\triangleright_{#1,#2}}
\newcommand{\bundled}[1]{\beta(#1)}

% categories with structure

\NewDocumentCommand\ccopy{o}{
    {\Delta\IfValueT{#1}{_{#1}}}
}
\NewDocumentCommand\cdel{o}{
    {\scalebox{1.3}{\(\diamond\)}\IfValueT{#1}{_{#1}}}
}
\NewDocumentCommand\cmerge{o}{
    {\nabla\IfValueT{#1}{_{#1}}}
}
\NewDocumentCommand\cinit{o}{
    {\square\IfValueT{#1}{_{#1}}}
}
\newcommand{\fp}{\dagger}
\newcommand{\fixpoint}[1]{(#1)^{\fp}}
\NewDocumentCommand\fix{o}{
    \mathsf{fix}\IfValueT{#1}{\left(#1\right)}
}

% freely generated categories

\newcommand{\signature}{\Sigma}
\NewDocumentCommand\generators{o}{%
    \Sigma\IfValueT{#1}{_{#1}}
}
\newcommand{\sigmaterms}{\generators[\mathsf{t}]}
\NewDocumentCommand\equations{o}{%
    \mathcal{E}\IfValueT{#1}{_{#1}}
}
\newcommand{\colours}{\mathcal{C}}
\newcommand{\sorts}{\mcc}
\NewDocumentCommand\dom{o}{%
    \mathsf{dom}\IfValueT{#1}{(#1)}
}
\NewDocumentCommand\domw{o}{%
    \overline{\mathsf{dom}\IfValueT{#1}{(#1)}}
}
\NewDocumentCommand\cod{o}{%
    \mathsf{cod}\IfValueT{#1}{(#1)}
}
\NewDocumentCommand\codw{o}{%
    \overline{\mathsf{cod}\IfValueT{#1}{(#1)}}
}
\NewDocumentCommand\eqaxioms{o}{%
    \IfValueTF{#1}{\stackrel{#1}{=}}{=}
}

% spans and cospans

\NewDocumentCommand\spann{momom}{%
    {#1 \IfValueTF{#2}{\xleftarrow{#2}}{\leftarrow} #3 \IfValueTF{#4}{\xrightarrow{#4}}{\rightarrow} #5}
}
\NewDocumentCommand\cospan{momom}{%
    {#1 \IfValueTF{#2}{\xrightarrow{#2}}{\rightarrow} #3 \IfValueTF{#4}{\xleftarrow{#4}}{\leftarrow} #5}
}
\NewDocumentCommand\csp{om}{%
    \mathsf{Csp}\IfValueT{#1}{_{#1}}(#2)
}

% example categories

\newcommand{\set}{\mathbf{Set}}
\newcommand{\rel}{\mathbf{Rel}}
\newcommand{\pos}{\mathbf{Pos}}
\newcommand{\cat}{\mathbf{Cat}}
\newcommand{\frob}{\mathbf{Frob}}
\newcommand{\mon}{\mathbf{Mon}}
\newcommand{\cmon}{\mathbf{CMon}}
\newcommand{\comon}{\mathbf{Comon}}
\newcommand{\ccomon}{\mathbf{CComon}}
\newcommand{\bialg}{\mathbf{Bialg}}
\newcommand{\finset}{\mathbb{F}}        % skeletal category of finite sets and functions
\newcommand{\perms}{\mathbb{P}}         % skeletal category of finite sets and bijections
\newcommand{\smc}[1]{\mathbf{S}_{#1}}
\newcommand{\smcsigma}{\smc{\Sigma}}
\newcommand{\stmc}[1]{\mathbf{T}_{#1}}
\newcommand{\stmcsigma}{\stmc{\Sigma}}

% example functors

\newcommand{\listf}{\mathsf{List}}
\newcommand{\idf}{\mathsf{Id}}