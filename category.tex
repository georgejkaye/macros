% category stuff

\newcommand{\pair}[2]{\langle #1,#2 \rangle}

% categories

\newcommand{\morph}[3]{{#1 \colon #2 \to #3}}
\newcommand{\seq}{{\ \fatsemi\ }}
\NewDocumentCommand\id{o}{%
    \mathsf{id}\IfValueT{#1}{_{#1}}%
}
\newcommand{\op}[1]{#1^{\mathsf{op}}}

% monoidal categories

\newcommand{\tensor}{\otimes}
\newcommand{\bigtensor}{\bigotimes}

% symmetric monoidal categories

\newcommand{\braid}[2]{{\gamma_{#1,#2}}}
\newcommand{\swap}[2]{{\sigma_{#1,#2}}}

% symmetric traced monoidal categories

\DeclareMathOperator{\tr}{Tr}
\NewDocumentCommand\trace{moom}{%
    {\tr^{#1}\IfValueT{#2}{_{#2, #3}}\left(#4\right)}
}

% compact closed category

\newcommand{\dual}[1]{#1^*}
\NewDocumentCommand\ccunit{o}{
    \nu\IfValueT{#1}{_{#1}}
}
\NewDocumentCommand\cccounit{o}{
    \epsilon\IfValueT{#1}{_{#1}}
}

% categories with structure

\NewDocumentCommand\ccopy{o}{
    {\Delta\IfValueT{#1}{_{#1}}}
}
\NewDocumentCommand\cdel{o}{
    {\scalebox{1.3}{\(\diamond\)}\IfValueT{#1}{_{#1}}}
}
\NewDocumentCommand\cmerge{o}{
    {\nabla\IfValueT{#1}{_{#1}}}
}
\NewDocumentCommand\cinit{o}{
    {\square\IfValueT{#1}{_{#1}}}
}
\newcommand{\fp}{\dagger}
\newcommand{\fixpoint}[1]{(#1)^{\fp}}
\NewDocumentCommand\fix{o}{
    \mathsf{fix}\IfValueT{#1}{\left(#1\right)}
}

% freely generated categories

\newcommand{\signature}{\Sigma}
\NewDocumentCommand\generators{o}{%
    \Sigma\IfValueT{#1}{_{#1}}
}
\NewDocumentCommand\equations{o}{%
    \mathcal{E}\IfValueT{#1}{_{#1}}
}
\newcommand{\colours}{\mathcal{C}}
\newcommand{\sorts}{\mcc}
\newcommand{\dom}[1]{\mathsf{dom}(#1)}
\newcommand{\cod}[1]{\mathsf{cod}(#1)}

% spans and cospans

\NewDocumentCommand\spann{momom}{%
    {#1 \IfValueTF{#2}{\xleftarrow{#2}}{\leftarrow} #3 \IfValueTF{#4}{\xrightarrow{#4}}{\rightarrow} #5}
}
\NewDocumentCommand\cospan{momom}{%
    {#1 \IfValueTF{#2}{\xrightarrow{#2}}{\rightarrow} #3 \IfValueTF{#4}{\xleftarrow{#4}}{\leftarrow} #5}
}
\NewDocumentCommand\csp{om}{%
    \mathsf{Csp}\IfValueT{#1}{_{#1}}(#2)
}

% example categories

\newcommand{\set}{\mathbf{Set}}
\newcommand{\frob}{\mathbf{Frob}}
\newcommand{\mon}{\mathbf{Mon}}
\newcommand{\cmon}{\mathbf{CMon}}
\newcommand{\comon}{\mathbf{Comon}}
\newcommand{\ccomon}{\mathbf{CComon}}
\newcommand{\bialg}{\mathbf{Bialg}}
\newcommand{\finset}{\mathbb{F}}        % skeletal category of finite sets and functions
\newcommand{\perms}{\mathbb{P}}         % skeletal category of finite sets and bijections
\newcommand{\smc}[1]{\mathbf{S}_{#1}}
\newcommand{\smcsigma}{\smc{\Sigma}}
\newcommand{\stmc}[1]{\mathbf{T}_{#1}}
\newcommand{\stmcsigma}{\stmc{\Sigma}}