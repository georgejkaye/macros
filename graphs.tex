% DEPENDENCIES: macros/category

% equivariance
\newcommand{\atoms}{\mathbb{A}}
\newcommand{\permaction}{\odot}
\newcommand{\rename}{\mathbin{\tau}}
\newcommand{\renameinv}{\rename^{-1}}

% hypergraph definition
\newcommand{\vertices}[1]{#1_\star}
\newcommand{\fbvertices}[1]{#1_{\mathsf{fb}}}
\newcommand{\edges}[3]{#1_{#2,#3}}
\newcommand{\sources}[1]{\mathsf{s}_{#1}}
\newcommand{\targets}[1]{\mathsf{t}_{#1}}
\newcommand{\elabel}{\chi}

% categories of hypergraphs

\newcommand{\hyp}{\mathbf{Hyp}}
\newcommand{\hypsignature}[1]{\llbracket#1\rrbracket}
\newcommand{\hypsigma}{\hyp_{\signature}}

% cospan bicategories of hypergraphs

\newcommand{\cspdhyp}{\csp[D]{\hypsigma}}
\newcommand{\cspfihyp}{\csp[FI]{\hypsigma}}
\newcommand{\macspdhyp}{\mathsf{MA}\cspdhyp}
\newcommand{\macspfihyp}{\mathsf{MA}\csp[FI]{\hypsigma}}
\newcommand{\pmcspfihyp}{\mathsf{PM}\csp[FI]{\hypsigma}}
\newcommand{\pmcspdhyp}{\mathsf{PM}\csp[D]{\hypsigma}}
\newcommand{\plmcspfihyp}{\mathsf{PLM}\csp[FI]{\hypsigma}}
\newcommand{\plmcspdhyp}{\mathsf{PLM}\csp[D]{\hypsigma}}
\newcommand{\prmcspfihyp}{\mathsf{PRM}\csp[FI]{\hypsigma}}

% paths
\newcommand{\vpath}[2]{#1 \rightsquigarrow #2}

% hypergraph soundness
\NewDocumentCommand\termtohyp{om}{%
    \llbracket{\IfValueTF{#1}{#1}{-}}\rrbracket_{#2}
}
\NewDocumentCommand\frobtohyp{om}{%
    \left[{\IfValueTF{#1}{#1}{-}}\right]_{#2}
}
\NewDocumentCommand\tracedtosymandfrob{o}{
    \llcorner\IfValueTF{#1}{#1}{-}\lrcorner
}
\NewDocumentCommand\comonoidtohyp{om}{%
    \IfValueTF{#1}{\frobtohyp[#1]{#2}}{\frobtohyp{#2}}^\mathbf{C}
}
\NewDocumentCommand\termandfrobtohyp{om}{%
    \llangle{\IfValueTF{#1}{#1}{-}}\rrangle_{#2}
}
\NewDocumentCommand\termtohypsigma{o}{%
    \termtohyp[\IfValueTF{#1}{#1}{-}]{\Sigma}
}
\NewDocumentCommand\termandfrobtohypsigma{o}{%
    \termandfrobtohyp[\IfValueTF{#1}{#1}{-}]{\Sigma}
}
\NewDocumentCommand\foldinterfaces{o}{%
    \ulcorner{\IfValueTF{#1}{#1}{-}}\urcorner
}


% graph rewriting
\newcommand{\deriv}[1]{\xRightarrow{#1}}
\NewDocumentCommand\rewrite{o}{%
    \Rightarrow\IfValueT{#1}{_{#1}}
}
\NewDocumentCommand\grewrite{o}{%
    \rightsquigarrow\IfValueT{#1}{_{#1}}
}
\NewDocumentCommand\trgrewrite{o}{%
    \rightsquigarrow\IfValueT{#1}{_{#1}}
}
\newcommand{\rrule}[2]{\langle #1,#2 \rangle}
\newcommand{\pushoutcomplement}[1]{#1^\bot}

% equivalence maps
\newcommand{\homo}{\rightsquigarrow}
\newcommand{\hequiv}{\equiv_\mathsf{h}}
\newcommand{\vmap}[1]{{#1}_V}
\newcommand{\vmapm}[1]{{#1}_V}
\newcommand{\vmaps}[1]{{#1}_S}
\newcommand{\vmapss}[1]{{#1}_S^\mon}
\newcommand{\vmapt}[1]{{#1}_T}
\newcommand{\vmapts}[1]{{#1}_T^\mon}
\newcommand{\emap}[1]{{#1}_E}

\newcommand{\homeo}{\approx}