% DEPENDENCIES: macros/category

% equivariance
\newcommand{\atoms}{\mathbb{A}}
\newcommand{\permaction}{\odot}
\newcommand{\rename}{\mathbin{\tau}}
\newcommand{\renameinv}{\rename^{-1}}

% hypergraph definition
\newcommand{\vertices}[1]{#1_\star}
\newcommand{\fbvertices}[1]{#1_{\mathsf{fb}}}
\newcommand{\edges}[3]{#1_{#2,#3}}
\newcommand{\sources}[1]{\mathsf{s}_{#1}}
\newcommand{\targets}[1]{\mathsf{t}_{#1}}
\newcommand{\elabel}{\chi}

% categories of hypergraphs

\newcommand{\hyp}{\mathbf{Hyp}}
\newcommand{\hypsignature}[1]{\llbracket#1\rrbracket}
\newcommand{\hypsigma}{\hyp_{\signature}}
\newcommand{\hypsigmac}{\hyp_{C,\signature}}

% ordering interfaces

\newcommand{\pickinterfaces}{D}
\newcommand{\pickinterfacesc}[1]{\pickinterfaces_{#1}}

% cospan bicategories of hypergraphs

\newcommand{\cspdhyp}{\csp[D]{\hypsigma}}
\newcommand{\cspdchyp}{\csp[D_C]{\hypsigmac}}
\newcommand{\cspfihyp}{\csp[FI]{\hypsigma}}
\newcommand{\macspdhyp}{\mathsf{MA}\cspdhyp}
\newcommand{\macspfihyp}{\mathsf{MA}\csp[FI]{\hypsigma}}
\newcommand{\macspdchyp}{\mathsf{MA}\csp[D_C]{\hypsigmac}}
\newcommand{\pmcspfihyp}{\mathsf{PM}\csp[FI]{\hypsigma}}
\newcommand{\pmcspdhyp}{\mathsf{PM}\csp[D]{\hypsigma}}
\newcommand{\pmcspdchyp}{\mathsf{PM}\csp[D_C]{\hypsigmac}}
\newcommand{\plmcspfihyp}{\mathsf{PLM}\csp[FI]{\hypsigma}}
\newcommand{\plmcspdhyp}{\mathsf{PLM}\csp[D]{\hypsigma}}
\newcommand{\plmcspdchyp}{\mathsf{PLM}\csp[D_C]{\hypsigmac}}
\newcommand{\prmcspfihyp}{\mathsf{PRM}\csp[FI]{\hypsigma}}

% paths
\newcommand{\vpath}[2]{#1 \rightsquigarrow #2}

% hypergraph soundness
\NewDocumentCommand\termtohyp{om}{%
    \llbracket{\IfValueTF{#1}{#1}{-}}\rrbracket_{#2}
}
\NewDocumentCommand\termtohypsigma{o}{%
    \llbracket{\IfValueTF{#1}{#1}{-}}\rrbracket_{\Sigma}
}
\NewDocumentCommand\termtohypsigmac{o}{%
    \llbracket{\IfValueTF{#1}{#1}{-}}\rrbracket_{C,\Sigma}
}
\NewDocumentCommand\frobtohyp{om}{%
    \left[{\IfValueTF{#1}{#1}{-}}\right]_{#2}
}
\NewDocumentCommand\frobtohypsigma{o}{%
    \left[{\IfValueTF{#1}{#1}{-}}\right]_{\Sigma}
}
\NewDocumentCommand\frobtohypsigmac{o}{%
    \left[{\IfValueTF{#1}{#1}{-}}\right]_{C,\Sigma}
}
\NewDocumentCommand\tracedtosymandfrob{om}{
    \left\lfloor\IfValueTF{#1}{#1}{-}\right\rfloor^\mathbf{T}_{#2}
}
\NewDocumentCommand\tracedtosymandfrobsigma{o}{
    \left\lfloor\IfValueTF{#1}{#1}{-}\right\rfloor^\mathbf{T}_{\Sigma}
}
\NewDocumentCommand\tracedtosymandfrobsigmac{o}{
    \left\lfloor\IfValueTF{#1}{#1}{-}\right\rfloor^\mathbf{T}_{C, \Sigma}
}
\NewDocumentCommand\comonoidtofrob{o}{
    \left\lfloor\IfValueTF{#1}{#1}{-}\right\rfloor^\mathbf{C}
}
\NewDocumentCommand\comonoidtofrobc{o}{
    \left\lfloor\IfValueTF{#1}{#1}{-}\right\rfloor^\mathbf{C}_C
}
\NewDocumentCommand\tracedandcomonoidtofrob{om}{
    \left\lfloor\IfValueTF{#1}{#1}{-}\right\rfloor_{#2}
}
\NewDocumentCommand\tracedandcomonoidtofrobsigma{o}{
    \left\lfloor\IfValueTF{#1}{#1}{-}\right\rfloor_{\Sigma}
}
\NewDocumentCommand\tracedandcomonoidtofrobsigmac{o}{
    \left\lfloor\IfValueTF{#1}{#1}{-}\right\rfloor_{C, \Sigma}
}
\NewDocumentCommand\comonoidtohyp{om}{%
    \IfValueTF{#1}{\frobtohyp[#1]{#2}}{\frobtohyp{#2}}^\mathbf{C}
}
\NewDocumentCommand\comonoidtohypsigma{o}{%
    \IfValueTF{#1}{\frobtohypsigma[#1]}{\frobtohypsigma}^\mathbf{C}
}
\NewDocumentCommand\comonoidtohypsigmac{o}{%
    \IfValueTF{#1}{\frobtohypsigmac[#1]}{\frobtohypsigmac}^\mathbf{C}
}
\NewDocumentCommand\termandfrobtohyp{om}{%
    \llangle{\IfValueTF{#1}{#1}{-}}\rrangle_{#2}
}
\NewDocumentCommand\termandfrobtohypsigma{o}{%
    \llangle{\IfValueTF{#1}{#1}{-}}\rrangle_{\Sigma}
}
\NewDocumentCommand\termandfrobtohypsigmac{o}{%
    \llangle{\IfValueTF{#1}{#1}{-}}\rrangle_{C, \Sigma}
}
\NewDocumentCommand\foldinterfaces{o}{%
    \ulcorner{\IfValueTF{#1}{#1}{-}}\urcorner
}
\NewDocumentCommand\foldinterfacesc{o}{%
    \ulcorner{\IfValueTF{#1}{#1}{-}}\urcorner_C
}
% graph rewriting
\newcommand{\deriv}[1]{\xRightarrow{#1}}
\NewDocumentCommand\rewrite{o}{%
    \Rightarrow\IfValueT{#1}{_{#1}}
}
\NewDocumentCommand\rewrites{o}{%
    \Rightarrow^{\star}\IfValueT{#1}{_{#1}}
}
\NewDocumentCommand\grewrite{o}{%
    \rightsquigarrow\IfValueT{#1}{_{#1}}
}
\NewDocumentCommand\grewrites{o}{%
    \rightsquigarrow^{\star}\IfValueT{#1}{_{#1}}
}

\NewDocumentCommand\trgrewrite{o}{%
    \rightsquigarrow\IfValueT{#1}{_{#1}}
}
\newcommand{\rrule}[2]{\left\langle #1, #2 \right\rangle}
\newcommand{\pushoutcomplement}[1]{#1^\bot}

% equivalence maps
\newcommand{\homo}{\rightsquigarrow}
\newcommand{\hequiv}{\equiv_\mathsf{h}}
\newcommand{\vmap}[1]{{#1}_V}
\newcommand{\vmapm}[1]{{#1}_V}
\newcommand{\vmaps}[1]{{#1}_S}
\newcommand{\vmapss}[1]{{#1}_S^\mon}
\newcommand{\vmapt}[1]{{#1}_T}
\newcommand{\vmapts}[1]{{#1}_T^\mon}
\newcommand{\emap}[1]{{#1}_E}

\newcommand{\homeo}{\approx}