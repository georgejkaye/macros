% function category
\newcommand{\func}[1]{\mathbf{Func}_{#1}}
\newcommand{\funci}{\func{\interpretation}}

% mealy machines
\NewDocumentCommand\mealyoutput{omm}{
    {#2}[{#3}]\IfValueT{#1}{^{#1}}
}
\NewDocumentCommand\mealytransition{omm}{
    \IfValueT{#1}{(}{{#2}_{#3}}\IfValueT{#1}{)^{#1}}
}
\newcommand{\mealytype}[3]{{#1 \xrightarrow{#2} #3}}
\NewDocumentCommand\mealyinitial{o}{
    \bar{s}\IfValueT{#1}{^{#1}}
}

\NewDocumentCommand\streaminit{o}{\mathsf{i}\IfValueT{#1}{(#1)}}
\NewDocumentCommand\streamderv{o}{\mathsf{d}\IfValueT{#1}{(#1)}}
\newcommand{\streamcons}{\mathbin{::}}

\newcommand{\stream}[1]{#1^{\omega}}
\newcommand{\causalstreamfuncorder}{\preceq}

\newcommand{\stateassignment}{\gamma}

\newcommand{\approximant}[2]{#1_{#2}}

% categories
\newcommand{\streamv}{\mathbf{Stream}_{\values}}

\newcommand{\mealyi}{\mathbf{Mealy}_{\interpretation}}

\newcommand{\cstream}[1]{\mathbf{CStream}_{#1}}
\newcommand{\cstreami}{\mathbf{CStream}_{\interpretation}}

\newcommand{\trs}[2]{#1 \,|\, #2}

\newcommand{\initial}{\mathsf{s}}
\newcommand{\stcmp}{\triangleright}
\newcommand{\stten}{+}
\newcommand{\auto}[4]{#1~:~#2~\xrightarrow{#3}~#4}
\newcommand{\variable}[2]{x^{#1}_{#2}}
\newcommand{\varn}[1]{x^\nat_{#1}}
\newcommand{\varz}[1]{x_{#1}}
\newcommand{\outp}[2]{O^{#1}_{#2}}
\newcommand{\stateset}[3]{\mathbf{#1}^{#2}_{#3}}
\newcommand{\lifetime}[1]{\mf{life}(#1)}
\newcommand{\reg}[1]{v_{#1}}
\newcommand{\prefix}{r}
\newcommand{\period}{p}
\newcommand{\fixp}[1]{\mf{fix}(#1)}

\newcommand{\statestr}{\sigma}
\newcommand{\canonstr}{\sigma}

\newcommand{\mealy}[1]{\mathbf{Mealy}_{#1}}
\newcommand{\smealy}[1]{\mathbf{SMealy}_{#1}}
\newcommand{\fhom}{{!}}
\newcommand{\ftom}[1]{\llangle#1\rrangle}


\newcommand{\gens}{\nu}

\newcommand{\cfprop}{\mathbf{CFun}}
\NewDocumentCommand\pcsprop{o}{%
    \mathbf{PCStream}_{\IfValueT{#1}{#1}}%
}


\NewDocumentCommand\circuittostream{om}{%
    [\IfValueTF{#1}{#1}{-}]_{#2}
}
\NewDocumentCommand\circuittomealy{om}{%
    \llbracket\IfValueTF{#1}{#1}{-}\rrbracket_{#2}%
}
\NewDocumentCommand\mealytostream{o}{%
    {!\IfValueTF{#1}{#1}{(-)}}%
}
\NewDocumentCommand\mealytocircuit{om}{%
    \llangle\IfValueTF{#1}{#1}{-}\rrangle_{#2}%
}
\NewDocumentCommand\mealytocircuiti{o}{%
    \llangle\IfValueTF{#1}{#1}{-}\rrangle_{\interpretation}%
}
\NewDocumentCommand\streamtomealy{om}{%
    \langle\IfValueTF{#1}{#1}{-}\rangle_{#2}%
}


\NewDocumentCommand\mmtot{om}{%
    \llangle\IfValueTF{#1}{#1}{-}\rrangle_{#2}%
}

\newcommand{\stateorder}{\preceq}